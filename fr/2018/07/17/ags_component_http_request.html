<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="https://autoit-gui-skeleton.github.io///assets/css/main.css" />

    <!-- Favicon -->
    <link rel="shortcut icon" href="https://autoit-gui-skeleton.github.io///assets/img/favicon.ico" type="image/x-icon" />

    <!-- RSS -->
    <link rel="alternate" type="application/atom+xml" title="AutoIt GUI Skeleton" href="https://autoit-gui-skeleton.github.io///fr//feed.xml" />

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous" />

    <!-- Google Fonts -->
    
    <link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,700italic,400italic" rel="stylesheet" type="text/css" />
    

    <!-- KaTeX 0.8.3 -->
    
    <link rel="stylesheet" type="text/css" href="https://autoit-gui-skeleton.github.io///assets/css/vendor/katex.min.css" />
    

    <!-- FancyBox style -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.3.5/jquery.fancybox.min.css" />

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous" />

    <!-- Prism CSS syntax highlighter for AutoIt support -->
    <link rel="stylesheet" type="text/css" href="https://autoit-gui-skeleton.github.io///assets/css/vendor/prism.css" />

    <!-- Flags sprites -->
    <link rel="stylesheet" type="text/css" href="https://autoit-gui-skeleton.github.io///assets/flag-icon-css-master/css/flag-icon.min.css" />

    <!-- seo tags -->
    <!-- Begin Jekyll SEO tag v2.4.0 -->
<meta name="generator" content="Jekyll v3.8.1" />
<meta property="og:title" content="Envoyer une requête HTTP en AutoIt avec AGS-component-http-request" />
<meta property="og:locale" content="fr" />
<meta name="description" content="Pour envoyer des requêtes HTTP, AGS fournit ce composant @autoit-gui-skeleton/ags-component-http-request. Cette librairie nous permet d’envoyer des requêtes HTTP en GET ou en POST, et avec ou sans un proxy." />
<meta property="og:description" content="Pour envoyer des requêtes HTTP, AGS fournit ce composant @autoit-gui-skeleton/ags-component-http-request. Cette librairie nous permet d’envoyer des requêtes HTTP en GET ou en POST, et avec ou sans un proxy." />
<link rel="canonical" href="https://autoit-gui-skeleton.github.io//fr/2018/07/17/ags_component_http_request.html" />
<meta property="og:url" content="https://autoit-gui-skeleton.github.io//fr/2018/07/17/ags_component_http_request.html" />
<meta property="og:site_name" content="AutoIt GUI Skeleton" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-07-17T00:00:00+02:00" />
<script type="application/ld+json">
{"url":"https://autoit-gui-skeleton.github.io//fr/2018/07/17/ags_component_http_request.html","headline":"Envoyer une requête HTTP en AutoIt avec AGS-component-http-request","dateModified":"2018-07-17T00:00:00+02:00","datePublished":"2018-07-17T00:00:00+02:00","description":"Pour envoyer des requêtes HTTP, AGS fournit ce composant @autoit-gui-skeleton/ags-component-http-request. Cette librairie nous permet d’envoyer des requêtes HTTP en GET ou en POST, et avec ou sans un proxy.","mainEntityOfPage":{"@type":"WebPage","@id":"https://autoit-gui-skeleton.github.io//fr/2018/07/17/ags_component_http_request.html"},"@type":"BlogPosting","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <title>AutoIt GUI Skeleton</title>
</head>

  <body>
    <header class="site-header">

    <!-- Logo and title -->
	<div class="branding">
		<a href="https://autoit-gui-skeleton.github.io//fr/">
			<img class="avatar" src="https://autoit-gui-skeleton.github.io//assets/img/autoit.png" alt=""/>
		</a>

		<p class="site-title">
			<a href="https://autoit-gui-skeleton.github.io//fr/">AutoIt Gui Skeleton</a>
		</p>
	</div>

    <!-- This finds the current page so it can be highlighted. -->
    

    <nav class="clear">

        <!-- Toggle menu -->
        <a id="pull" class="toggle">
            <i class="fa fa-bars fa-lg"></i>
        </a>

        <!-- Menu -->
        <ul class="hide toggleMenu">

            
              <li><a href="https://autoit-gui-skeleton.github.io//fr/documentation">Documentation</a></li>
              <li><a href="https://autoit-gui-skeleton.github.io//fr/articles">Articles</a></li>
              <li><a href="https://autoit-gui-skeleton.github.io//fr/about">À propos</a></li>
            

            <li class="separator"> | </li>

            
            
            <li>
                <a class="clear" href="https://autoit-gui-skeleton.github.io//fr/search">
                    <i class="fa fa-search" aria-hidden="true"></i>
                </a>
            </li>
            
            
            
            <li>
                <a class="clear" href="https://autoit-gui-skeleton.github.io//fr/tags">
                    <i class="fa fa-tags" aria-hidden="true"></i>
                </a>
            </li>
            
            

            
            <li>
                <a class="link-en" href="https://autoit-gui-skeleton.github.io///2018/07/17/ags_component_http_request.html">
                    <span class="flag-icon flag-icon-gb" title="Translate in english" alt="Anglais"></span>
                    <!-- <span class="flag-icon flag-icon-gb" data-toggle="tooltip" data-placement="bottom" title="Translate in english" alt="Anglais"></span> -->
                </a>
            </li>
            
        </ul>
    </nav>
</header>

    <div class="content">
      <article class="feature-image" >
    <header id="main"
            class="call-out"
            style="background-image: url('https://autoit-gui-skeleton.github.io//assets/img/pixabay/ags-component.jpg')">
        <h1 id="Envoyer+une+requ%C3%AAte+HTTP+en+AutoIt+avec+%3Cb%3EAGS-component-http-request%3C%2Fb%3E" class="title">Envoyer une requête HTTP en AutoIt avec <b>AGS-component-http-request</b></h1>

        
            <p class="date">
        
        July 17, 2018 </p>
    </header>

    <section class="post-content"><blockquote>
  <p>Pour envoyer des requêtes HTTP, AGS fournit ce composant <a href="https://www.npmjs.com/package/@autoit-gui-skeleton/ags-component-http-request">@autoit-gui-skeleton/ags-component-http-request</a>. Cette librairie nous permet d’envoyer des requêtes HTTP en GET ou en POST, et avec ou sans un proxy.</p>
</blockquote>

<!--more-->

<h1 id="comment-installer-ags-component-http-request-">Comment installer AGS-component-http-request ?</h1>

<p>On suppose que vous avez déjà installé <a href="https://nodejs.org/">Node.js</a> et <a href="https://yarnpkg.com/lang/en/">Yarn</a>, par example avec <a href="https://chocolatey.org/">Chocolatey</a>, et pour installer le package AGS-component-http-request, vous pouvez alors utiliser le gestionnaire de dépendances pour AutoIt fournit dans AGS. Il suffit donc de taper dans le dossier racine du projet, où le fichier <code class="highlighter-rouge">package.json</code> est stocké:</p>

<pre class="command-line" data-prompt="C: \&gt;">
<code class=" language-bash">yarn add @autoit-gui-skeleton/ags-component-http-request --modules-folder vendor</code>
</pre>

<p>Toutes les dépendances du projet, ainsi que les dépendances filles des dépedances parentes sont installées dans le répertoire <code class="highlighter-rouge">./vendor/@autoit-gui-skeleton/</code>. Pour l’utiliser dans son programme AutoIt, vous devez inclure cette bibliothèque avec l’instruction:</p>

<pre><code class="language-autoit">#include 'vendor/@autoit-gui-skeleton/ags-component-http-request/ags-component-http-request.au3'
</code></pre>

<p>Tous les paquets AGS hébergés dans le dépôt npmjs appartiennent à l’organisation <a href="https://www.npmjs.com/search?q=autoit-gui-skeleton">@autoit-gui-skeleton organization</a>. En effet afin de simplifier la gestion des dépendances d’un projet AutoIt construit avec le framework AGS, nous avons détourné de son utilisation initiale le gestionnaire de dépendance npm, et son évolution Yarn. Cela nous permet de gérer les dépendances d’un projet AGS avec d’autres bibliothèques AutoIt, et de partager ces paquets AutoIt à partir du référentiel npmjs.org.</p>

<h1 id="comment-utiliser-ags-component-http-request-">Comment utiliser AGS-component-http-request ?</h1>

<h2 id="méthodes-disponibles">Méthodes disponibles</h2>

<p>Cette bibliothèque fournit plusieurs méthodes pour traiter les requêtes HTTP</p>

<table>
  <thead>
    <tr>
      <th>Methods</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">HttpGET($url, $data = "", $proxy = "")</code></td>
      <td>Send HTTP request with GET method.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">HttpPOST($url, $data = "", $proxy = "")</code></td>
      <td>Send HTTP request with POST method.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">URLEncode($urlText)</code></td>
      <td>URL encoding replaces unsafe ASCII characters.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">URLDecode($urlText)</code></td>
      <td>Inverse operation of URLEncode.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">WinHttp_SetProxy_from_configuration_file($oHttp)</code></td>
      <td>Set timeouts by parsing the configuration file AGS project store in ‘./config/parameters.ini’.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">WinHttp_SetProxy_from_configuration_file($oHttp)</code></td>
      <td>Set proxy by parsing the configuration file AGS project store in ‘./config/parameters.ini’.</td>
    </tr>
  </tbody>
</table>

<h2 id="configurer-le-composant-ags-component-http-request">Configurer le composant AGS-component-http-request</h2>

<p>Pour configurer le comportement de ce composant, vous pouvez définir ses options dans le fichier <code class="highlighter-rouge">./config/parameters.ini</code>. Par exemple, vous pouvez définir un proxy pour toute les connexions HTTP, ou encore définir différents types de délai d’attente. Par défaut, ce composant recherche dans le fichier de configuration si un proxy est défini dans la variable <code class="highlighter-rouge">PROXY</code> de la section<code class="highlighter-rouge"> AGS_HTTP_REQUEST</code>.</p>

<div class="language-ini highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">## ./config/parameters.ini ##
</span>
<span class="nn">[AGS_HTTP_REQUEST]</span>
<span class="c">; [OPTIONAL] Use a proxy for http connexion. Keep empty to disable it.
</span><span class="py">PROXY</span><span class="p">=</span><span class="s">http:/myproxy.com:20100</span>

<span class="c">; [OPTIONAL] Time-out value applied when resolving a host name to an @IP,
; in miliseconds.
</span><span class="py">RESOLVE_TIMEOUT</span><span class="p">=</span><span class="s">1000</span>

<span class="c">; [OPTIONAL] Time-out value applied when establishing a communication socket
; with the target server, in milliseconds.
</span><span class="py">CONNECT_TIMEOUT</span><span class="p">=</span><span class="s">1000</span>

<span class="c">; [OPTIONAL] Time-out value applied when sending an individual packet of request
; data on the communication socket to the target server, in milliseconds. A
; large request sent to an HTTP server are normally be broken up into multiple
; packets. The send time-out applies to sending each packet individually.
</span><span class="py">SEND_TIMEOUT</span><span class="p">=</span><span class="s">1000</span>

<span class="c">; [OPTIONAL] Time-out value applied when receiving a packet of response data
; from the target server, in milliseconds. Large responses are be broken up into
; multiple packets; the receive time-out applies to fetching each packet of data
; off the socket.
</span><span class="py">RECEIVE_TIMEOUT</span><span class="p">=</span><span class="s">1000</span>
</code></pre></div></div>

<h2 id="comment-envoyer-une-requête-http-en-get-">Comment envoyer une requête HTTP en GET ?</h2>

<pre><code class="language-autoit">Local $response = HttpGET("https://soundcloud.com/2080/my-megadrive")
    
ConsoleWrite($response.Status &amp; @CRLF)
ConsoleWrite($response.ResponseText)
</code></pre>

<h3 id="comment-envoyer-une-requête-http-avec-un-proxy-">Comment envoyer une requête HTTP avec un proxy ?</h3>

<p>Par défaut, ce composant recherche dans le fichier de configuration si un proxy est défini dans la variable <code class="highlighter-rouge">PROXY</code> de la section<code class="highlighter-rouge"> AGS_HTTP_REQUEST</code>. Mais vous pouvez également fournir un proxy explicitement dans la méthode.</p>

<pre><code class="language-autoit">Local $response = HttpGET( _ 
    "https://soundcloud.com/2080/my-megadrive", _ 
    default, _ 
    "http://myproxy.com:20100")
    
ConsoleWrite($response.Status &amp; @CRLF)
ConsoleWrite($response.ResponseText)
</code></pre>

<h3 id="comment-encoder-une-url-">Comment encoder une URL ?</h3>

<p>Le codage d’URL (URL encoding) est un mécanisme d’encodage d’informations dans un URI (Uniform Resource Identifier). Il est utilisé dans la préparation des données du type de support application/x-www-form-urlencoded, et lors de la soumission de données dans les requêtes HTTP.</p>

<p>Si vous utilisez HttpGET, vous devez nettoyer les données à envoyer avec cet méthode au préalable.</p>

<pre><code class="language-autoit">Local $msg = "Welcome in AGS"
Local $url = "https://myServer.org/foo?msg=" &amp; URLEncode($msg) &amp; "&amp;param=32"

ConsoleWrite($url)
; Output &gt;&gt; https://myServer.org/foo?msg=Welcome%20in%20AGS&amp;param=32

ConsoleWrite(URLEncode("123abc!@#$%^&amp;*()_+ ") &amp; @crlf)
; Output &gt;&gt; 123abc!%40%23%24%25%5E%26*()_%2B%20
</code></pre>

<p><br /></p>

<blockquote>
  <p><strong>Continue reading ?</strong></p>

  <p><a href="https://autoit-gui-skeleton.github.io//fr/documentation/getting-started#dependencies-manager-for-autoit">Dependencies manager for AutoIt</a></p>
</blockquote>
</section>

    <!-- Social media shares -->
    <div class="share-buttons">
    <ul>
        
        <li>
            <a href="https://www.facebook.com/sharer/sharer.php?u=https://autoit-gui-skeleton.github.io//fr/2018/07/17/ags_component_http_request.html&quote=Envoyer une requête HTTP en AutoIt avec <b>AGS-component-http-request</b>%20%7C%20AutoIt GUI Skeleton"
               target="_blank" title="Share on Facebook">
                <i class="fab fa-facebook-square fa-2x" aria-hidden="true"></i>
                <span class="sr-only">Share on Facebook</span>
            </a>
        </li>
        

        
        <li>
            <a href="https://twitter.com/intent/tweet?source=https://autoit-gui-skeleton.github.io//fr/2018/07/17/ags_component_http_request.html&text=Envoyer une requête HTTP en AutoIt avec <b>AGS-component-http-request</b>%20%7C%20AutoIt GUI Skeleton:%20https://autoit-gui-skeleton.github.io//fr/2018/07/17/ags_component_http_request.html"
               target="_blank" title="Tweet">
                <i class="fab fa-twitter-square fa-2x" aria-hidden="true"></i>
                <span class="sr-only">Tweet</span>
            </a>
        </li>
        

        
        <li>
            <a href="https://plus.google.com/share?url=https://autoit-gui-skeleton.github.io//fr/2018/07/17/ags_component_http_request.html"
               target="_blank" title="Share on Google+">
                <i class="fab fa-google-plus-square fa-2x" aria-hidden="true"></i>
                <span class="sr-only">Share on Google+</span>
            </a>
        </li>
        

        

        
        <li>
            <a href="http://pinterest.com/pin/create/button/?url=https://autoit-gui-skeleton.github.io//fr/2018/07/17/ags_component_http_request.html&description="
               target="_blank" title="Pin it">
                <i class="fab fa-pinterest-square fa-2x" aria-hidden="true"></i>
                <span class="sr-only">Pin it</span>
            </a>
        </li>
        

        

        

        
        <li>
            <a href="http://www.linkedin.com/shareArticle?mini=true&url=https://autoit-gui-skeleton.github.io//fr/2018/07/17/ags_component_http_request.html&title=Envoyer une requête HTTP en AutoIt avec <b>AGS-component-http-request</b>%20%7C%20AutoIt GUI Skeleton&summary=&source=https://autoit-gui-skeleton.github.io//fr/2018/07/17/ags_component_http_request.html"
               target="_blank" title="Share on LinkedIn">
                <i class="fab fa-linkedin fa-2x" aria-hidden="true"></i>
                <span class="sr-only">Share on LinkedIn</span>
            </a>
        </li>
        

        

        
        <li>
            <a href="mailto:?subject=Envoyer une requête HTTP en AutoIt avec <b>AGS-component-http-request</b>%20%7C%20AutoIt GUI Skeleton&body=:%20https://autoit-gui-skeleton.github.io//fr/2018/07/17/ags_component_http_request.html"
               target="_blank" title="Email">
                <i class="fa fa-envelope-square fa-2x" aria-hidden="true"></i>
                <span class="sr-only">Email</span>
            </a>
        </li>
        
    </ul>
</div>

    <!-- Tag list -->
    
    



<div class="tag-list">
    
    <div class="meta">Tags</div>
    

    
    <a class="button" href="/fr/tags#AGS">
        <p><i class="fa fa-tag fa-fw"></i> AGS</p>
    </a>
    
    <a class="button" href="/fr/tags#Component">
        <p><i class="fa fa-tag fa-fw"></i> Component</p>
    </a>
    
</div>


</article>

<!-- Post navigation -->

<div id="post-nav" class="row post-nav">

    <div class="col-sm-6">
        <div id="previous-post" class="post-nav-post">
            
            <p class="uppercase">Previous post</p>
            <a href="/fr/2018/07/16/ags_wrapper_json.html">
            <p>Utiliser des fichiers JSON dans AutoIt avec <b>AGS-wrapper-json</b></p>
            </a>
            
        </div>
    </div>

    <div class="col-sm-6">
        <div id="next-post" class="post-nav-post">
            
            <p class="uppercase">Next post</p>
            <a href="/fr/2018/07/18/ags_component_check-for-updates.html">
            <p>Vérifier les mises à jour dans une application AutoIt avec <b>AGS-component-check-for-updates</b></p>
            </a>
            
        </div>
    </div>
</div>


<!-- Disqus -->

<div class="comments">
    <div id="disqus_thread"></div>
<script>

    
        var disqus_shortname = 'https-autoit-gui-skeleton-github-io-fr';
    

    (function () { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        s.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Merci d'activité JavaScript pour voir <a href="https://disqus.com/?ref_noscript">les commentaires, fournis par Disqus.</a></noscript>
</div>

    </div>
    
<footer class="site-footer">
    <p class="text">Built with ♥ with <a href="https://jekyllrb.com/">Jekyll</a> and fork of <a href="https://github.com/sylhare/Type-on-Strap">Type on Strap</a>
</p>
            <div class="footer-icons">
                <ul>
                <!-- Social icons from Font Awesome, if enabled -->
                


<li><a href="mailto:vb20100bv@gmail.com" title="Email"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-envelope fa-stack-1x fa-inverse"></i></span></a></li>














<li>
	<a href="https://github.com/v20100v" title="Follow on GitHub">
		<span class="fa-stack fa-lg">
            <i class="fa fa-circle fa-stack-2x"></i>
            <i class="fab fa-github fa-stack-1x fa-inverse"></i>
        </span>
	</a>
</li>
































                </ul>
            </div>
</footer>




    <!-- KaTeX 0.8.3 -->

<link rel="stylesheet" type="text/css" href="https://autoit-gui-skeleton.github.io///assets/css/vendor/katex.min.css">
<script src="https://autoit-gui-skeleton.github.io///assets/js/vendor/katex.min.js"></script>


<!-- Google Analytics -->

<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-119463892-1', 'auto');
    ga('send', 'pageview');
</script>


<!-- Jquery -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>

<!-- Bootstrap -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
        integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"
        integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T"
        crossorigin="anonymous"></script>

<!-- Prism CSS syntax highlighter for AutoIt support -->
<script src="https://autoit-gui-skeleton.github.io///assets/js/vendor/prism.js"></script>

<!-- FancyBox -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.3.5/jquery.fancybox.min.js"></script>

<script>
    $(document).ready(function () {
        // Enable fancybox evrywhere with this class selector
        $('.img-fancybox').each(function (index, value) {
            $(this).wrap('<a href="' + $(this).attr('src') + '" data-fancybox data-caption="' + $(this).attr('alt') + '">');
        });

        // Enable bootstrap tooltip everywhere with data-toogle attribute
        $('[data-toggle="tooltip"]').tooltip()
    });
</script>

<!-- Main JS (navbar.js, katex_init.js and masonry_init.js)-->
<script defer=true src="/assets/js/main.min.js"></script>
  </body>
</html>